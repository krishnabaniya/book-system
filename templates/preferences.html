<!DOCTYPE html>
<html lang="en">
<head>
    <title>Select Your Preferences</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- Common Base CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <!-- Page-specific CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/preferences.css') }}">
</head>
<body>

<!-- ðŸ”¥ Top Heading Area -->
<div class="header-text">
    <h1><i class="fa-solid fa-book"></i> Discover Books That Fit You</h1>
    <p>Choose your favorite genres and let us personalize your reading journey with recommendations tailored to your taste.</p>
</div>

<!-- ðŸ“‹ Preference Selection Box -->
<div class="pref-box">
    <h2><i class="fa-solid fa-book-open-reader"></i> Select Your Favorite Genres</h2>
    <form method="POST" action="/preferences">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="preferences" value="Romantic" id="romantic">
            <label class="form-check-label" for="romantic" title="Love stories with emotions">
                <i class="fa-solid fa-heart"></i> Romantic
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="preferences" value="Science Fiction" id="sci-fi">
            <label class="form-check-label" for="sci-fi" title="Futuristic or technological themes">
                <i class="fa-solid fa-robot"></i> Science Fiction
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="preferences" value="Fantasy" id="fantasy">
            <label class="form-check-label" for="fantasy" title="Magical worlds and adventures">
                <i class="fa-solid fa-hat-wizard"></i> Fantasy
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="preferences" value="Thriller" id="thriller">
            <label class="form-check-label" for="thriller" title="Suspense, mystery, and action">
                <i class="fa-solid fa-mask"></i> Thriller
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="preferences" value="Historical" id="historical">
            <label class="form-check-label" for="historical" title="Past events and historic periods">
                <i class="fa-solid fa-landmark"></i> Historical
            </label>
        </div>

        <div id="selected-genres" class="mt-3 text-warning"></div>
        <button type="submit" class="btn btn-pref">Save Preferences</button>
    </form>
</div>

<!-- JavaScript -->
<script>
    const checkboxes = document.querySelectorAll('input[name="preferences"]');
    const selectedDiv = document.getElementById('selected-genres');

    checkboxes.forEach(cb => {
        cb.addEventListener('change', () => {
            const selected = Array.from(checkboxes)
                .filter(c => c.checked)
                .map(c => c.value);
            selectedDiv.innerHTML = selected.length > 0
                ? `Selected: ${selected.join(', ')}`
                : '';
        });
    });
</script>

</body>
</html>
